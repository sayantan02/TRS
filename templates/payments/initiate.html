<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Checkout</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <style>
        body {
            background-color: #eeeeee;
        }

        .green {
            color: rgb(15, 207, 143);
            font-weight: 680;
        }

        @media(max-width:567px) {
            .mobile {
                padding-top: 40px;
            }
        }
    </style>

</head>
<body>
    <section style="background-color: #eeeeee;">
        <div class="container rounded bg-white">
            <div class="row d-flex justify-content-center pb-5 bt-5">
                <div class="col-sm-5 col-md-5 ml-1">
                    <div class="py-4 d-flex flex-row">
                        <h5><span class="fa fa-check-square-o"></span><b>CodeLek</b> | </h5><span
                            class="pl-2">Pay</span>
                    </div>
                    <h4 class="green">₹ {{ fees }}</h4>
                    <h4>Hindustan Scout & Guides</h4>
                    <div class="pt-2">
                        <div class="d-flex">
                            <div>
                                <p><b>Total Balance </b><span class="green">₹{{ fees }}</span></p>
                            </div>
                            <div class="ml-auto p-2">
                                <p class="text-primary"><i class="fa fa-plus-circle text-primary"></i></p>
                            </div>
                        </div>
                        <p>
                            You are going to be admitted to Hindustan Scouts & Guides Course From TRS Alipurduar after
                            the payment you will receive the receipt of your payment, please keep the payment receipt
                            carefully for future assistance.
                        </p>
                        <form class="pb-3">
                            <div class="d-flex flex-row align-content-center">
                                <div class="pt-2 pr-2"><input type="radio" name="radio1" id="r1" checked></div>
                                <div class="rounded border d-flex w-100 px-2">
                                    <div class="pt-2">
                                        <p><i class="fa fa-cc-visa text-primary pr-2"></i>Razorpay Payment</p>
                                    </div>
                                    <div class="ml-auto pt-2">************3465</div>
                                </div>
                            </div>
                        </form>
                        <div>
                            <button id="rzp-button1" type="submit" class="btn btn-primary btn-block btn-lg">Proceed to
                                payment</button>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-md-4 offset-md-1 mobile">
                    <div class="py-4 d-flex justify-content-end">
                        <h6><a href="/">Cancel and return to website</a></h6>
                    </div>
                    <div class="bg-light rounded d-flex flex-column">
                        <div class="p-2 ml-3">
                            <h4>Order Recap</h4>
                        </div>
                        <div class="p-2 d-flex">
                            <div class="col-8">Training Fees</div>
                            <div class="ml-auto">+₹{{ pay_data.training_fees }}</div>
                        </div>
                        <div class="p-2 d-flex">
                            <div class="col-8">Food & Lodging Fees</div>
                            <div class="ml-auto">+₹{{ pay_data.food_and_lodging_fees }}</div>
                        </div>
                        <div class="p-2 d-flex">
                            <div class="col-8">Uniform Fees</div>
                            <div class="ml-auto">+₹{{ pay_data.uniform_fees }}</div>
                        </div>
                        <div class="p-2 d-flex">
                            <div class="col-8">Shoes Fees</div>
                            <div class="ml-auto">+₹{{ pay_data.shoes_fees }}</div>
                        </div>
                        <div class="border-top px-4 mx-3">
                        </div>
                        <div class="p-2 d-flex pt-3">
                            <div class="col-8">Ccrup Fees</div>
                            <div class="ml-auto">+₹{{ pay_data.ccrup_fees }}</div>
                        </div>
                        <div class="p-2 d-flex">
                            <div class="col-8">Cap Fees</div>
                            <div class="ml-auto">+₹{{ pay_data.cap_fees }}</div>
                        </div>
                        <!-- <div class="p-2 d-flex"></div> -->
                        <div class="p-2 d-flex">
                            <div class="col-8">Belt Fees</div>
                            <div class="ml-auto">+₹{{ pay_data.cap_fees }}</div>
                        </div>

                        <div class="border-top px-4 mx-3">
                        </div>
                        <div class="p-2 d-flex pt-3">
                            <div class="col-8">Admission Fees</div>
                            <div class="ml-auto"><b>+₹{{ pay_data.admission_fees }}</b></div>
                        </div>
                        <div class="p-2 d-flex pt-3">
                            <div class="col-8">Membership Fees</div>
                            <div class="ml-auto"><b>+₹{{ pay_data.membership_fees }}</b></div>
                        </div>

                        <div class="border-top px-4 mx-3"></div>
                        <div class="p-2 d-flex pt-3">
                            <div class="col-8"><b>Total</b></div>
                            <div class="ml-auto"><b class="green">₹{{ fees }}</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

<!-- Razorpay Script Tag -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
    var options = {
        "key": "rzp_test_OGis09XUyTopfy", // Enter the Key ID generated from the Dashboard
        "amount": "{{ payment.amount }}", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
        "currency": "INR",
        "name": "{{title}}",
        "description": "{{description}}",
        "image": "https://example.com/your_logo",
        "order_id": "{{payment.id}}", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
        "handler": function (response) {
            window.location.href = `http://127.0.0.1:8000/payments/payment-success/${response.razorpay_order_id}/${response.razorpay_payment_id}/${response.razorpay_signature}`;
            // alert(response.razorpay_payment_id);
            // alert(response.razorpay_order_id);
            // alert(response.razorpay_signature);
        },

        "theme": {
            "color": "#3399cc"
        }
    };
    var rzp1 = new Razorpay(options);
    rzp1.on('payment.failed', function (response) {
        alert(response.error.code);
        alert(response.error.description);
        alert(response.error.source);
        alert(response.error.step);
        alert(response.error.reason);
        alert(response.error.metadata.order_id);
        alert(response.error.metadata.payment_id);
    });
    document.getElementById('rzp-button1').onclick = function (e) {
        rzp1.open();
        e.preventDefault();
    }
</script>

</html>